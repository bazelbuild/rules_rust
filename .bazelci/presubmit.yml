---
platforms:
  ubuntu1404:
    build_targets:
    - "..."
    - "@examples//..."
    test_targets:
    - "..."
    - "@examples//..."
  ubuntu1604:
    build_targets:
    - "..."
    - "@examples//..."
    test_targets:
    - "..."
    - "@examples//..."
  macos:
    targets: &targets
    - "..."
    # Skip tests for dylib support on osx, since it's not yet supported.
    # (@TODO https://github.com/bazelbuild/continuous-integration/pull/245)
    # Should be:
    # - "@examples//..."
    # - "-@examples//ffi/rust_calling_c/matrix_dylib_test"
    # - "-@examples//ffi/rust_calling_c/matrix_dynamically_linked"
    - "@examples//fibonacci/..."
    - "@examples//hello_world/..."
    - "@examples//hello_runfiles/..."
    - "@examples//hello_lib/..."
    - "@examples//ffi/rust_calling_c/c/..."
    - "@examples//ffi/rust_calling_c:matrix"
    - "@examples//ffi/rust_calling_c:matrix_test"
    build_targets: *targets
    test_targets: *targets
