---
aspects_flags: &aspects_flags
  - "--config=rustfmt"
  - "--config=clippy"
tasks:
  crate_universe_examples_windows:
    name: Crate Universe Examples
    platform: windows
    working_directory: examples/crate_universe
    batch_commands:
      - echo startup --windows_enable_symlinks >> user.bazelrc
      - echo build --enable_runfiles >> user.bazelrc  # this is not enabled by default on windows and is necessary for the cargo build scripts
    build_flags: *aspects_flags
    build_targets:
      - "//cargo_local"
