module(name = "aliased_toolchains")

bazel_dep(name = "rules_rust", version = "0.0.0")
local_path_override(
    module_name = "rules_rust",
    path = "../..",
)

rust = use_extension("@rules_rust//rust:extensions.bzl", "rust")
rust.toolchain(
    aliases = {
        "rust_linux_x86_64__x86_64-unknown-linux-gnu__stable": "rust_linux",
    },
    edition = "2021",
)

# Ensure the repo can be used directly and via the hub.
use_repo(rust, "rust_linux", "rust_toolchains")

register_toolchains("@rust_toolchains//:rust_linux")
